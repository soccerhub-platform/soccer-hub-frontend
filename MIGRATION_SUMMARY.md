# Сводка изменений (Migration Summary)

Данная версия фронтенда Football CRM полностью переписана с учётом модульной архитектуры, что позволяет более эффективно управлять доступом, разделять код и масштабировать проект.

## Что было сделано

- Создана **модульная структура**: каждое направление (диспетчер, администратор) вынесено в отдельную папку внутри `src/modules`. Модули содержат собственные страницы, layout и маршруты.
- **Общая логика авторизации** вынесена в `src/shared/AuthContext.tsx`. Здесь определяется тип пользователя, функции входа/выхода и хранение пользователя в `localStorage`.
- Добавлен компонент `ProtectedRoute` для упрощения проверки прав доступа на уровне маршрутов.
- В `src/shared/types.ts` описаны общие интерфейсы для клиентов, тренировок, тренеров и учётных записей.
- Созданы две страницы логина с разными цветовыми схемами: `Dispatcher/Login.tsx` и `Admin/Login.tsx`.
- Реализованы базовые страницы панели, списков клиентов, тренировок, контрактов, платежей и пользователей с примерами таблиц.
- Настроен **Tailwind CSS** с собственными цветами для ролей и подключен через PostCSS.
- Добавлены руководства: `ARCHITECTURE.md` (описание архитектуры) и `MODULES_GUIDE.md` (практическое руководство).

## Новая структура

* Корень приложения (`App.tsx`) теперь знает только о двух модулях: `/dispatcher/*` и `/admin/*`. Другие части приложения спрятаны за соответствующими префиксами.
* Каждый модуль имеет отдельный layout и собственный набор страниц.
* В `shared/` находятся контекст авторизации, HTTP‑клиент и общие типы, доступные для всех модулей.

## Инструкции по тестированию

1. Перейдите на страницу логина соответствующего модуля: `/dispatcher/login` или `/admin/login`.
2. Введите любое имя пользователя. Для роли администратора используйте имя, начинающееся с `admin` (например, `admin`), для диспетчера – любое другое.
3. После входа проверьте навигацию по пунктам меню. Убедитесь, что URL изменяется согласно выбранному пункту, а содержимое страницы обновляется.
4. Проверьте, что при ручном вводе URL защищённой страницы без авторизации происходит перенаправление на страницу логина.
5. Проверьте кнопку выхода: после выхода любые защищённые страницы недоступны.

## Объяснение архитектуры

Модульность достигается за счёт разделения функциональных частей по ролям пользователей. Это упрощает сопровождение (код для одной роли не влияет на другую), повышает безопасность (разные маршруты с защитой), и позволяет добавлять новые модули без затрагивания существующих.

## Предварительный просмотр

Запустите `npm run dev` и перейдите по адресу `http://localhost:3000`. В демонстрационной среде данные статичны, однако проект готов к интеграции с REST API – достаточно заменить статические массивы данных на вызовы через `src/shared/api.ts`.
